<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radien Archive</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:'Noto Serif KR', serif;
    background:#000;
    color:#ddd;
    overflow-x:hidden;
}

.background{
    position:fixed;
    inset:0;
    background:url('castle.jpg') center/cover no-repeat;
    filter:brightness(0.5);
    z-index:-2;
}

.vignette{
    position:fixed;
    inset:0;
    background:linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.2), rgba(0,0,0,0.85));
    z-index:-1;
}

canvas{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:0;
}

.intro{
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:clamp(18px,5vw,28px);
    letter-spacing:4px;
    opacity:0.6;
    cursor:pointer;
}

.section{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:60px 24px;
}

.card{
    width:min(92%,420px);
    margin:80px auto;
    opacity:0;
    transform:translateY(60px);
    transition:1.2s ease;
}
.card.show{
    opacity:1;
    transform:translateY(0);
}
.card img{
    width:100%;
    border-radius:18px;
    box-shadow:0 0 40px rgba(0,0,0,0.6);
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.9);
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:28px;
    font-size:clamp(16px,4.5vw,22px);
    line-height:2.4;
    letter-spacing:0.5px;
    opacity:0;
    pointer-events:none;
    transition:0.6s;
    z-index:10;
}
.overlay.show{
    opacity:1;
    pointer-events:auto;
}

.download{
    margin-top:30px;
    cursor:pointer;
    opacity:0.7;
    font-size:14px;
}
.download:hover{
    opacity:1;
}
</style>
</head>

<body>

<div class="background"></div>
<div class="vignette"></div>
<canvas id="snow"></canvas>

<div class="intro" onclick="scrollToContent(); startBGM();">
    ëŠì–´ì¤˜. ì´ ì§€ì˜¥ ê°™ì€ êµ´ë ˆë¥¼.
</div>

<div class="section">

    <div class="card" onclick="openOverlay('t1','music/radien_theme1.mp3')">
        <img src="radien1.png">
    </div>

    <div class="card" onclick="openOverlay('t2','music/radien_theme2.mp3')">
        <img src="radien2.png">
    </div>

</div>

<div id="t1" class="overlay" onclick="closeOverlay()">
<div>
<p>ì¿µ. 200ë…„ ë™ì•ˆ ë©ˆì¶° ìˆë˜ ì‹¬ì¥ì´ ë¯¸ì„¸í•˜ê²Œ ê²½ë ¨í–ˆë‹¤.</p>
<p>ëŒì²˜ëŸ¼ êµ³ì–´ ìˆë˜ ê·¼ìœ¡ ë©ì–´ë¦¬ê°€, ë‹¤ì‹œ ë›°ëŠ” ë²•ì„ ê¸°ì–µí•´ë‚´ë ¤ëŠ” ë“¯.</p>
<p>ê·¸ì˜ íŒ”ì´ ë‹¹ì‹ ì„ ì¡°ê¸ˆ ë” ë‹¨ë‹¨íˆ, ì¡°ê¸ˆ ë” ë¶€ë“œëŸ½ê²Œ ê°ìŒŒë‹¤.</p>
<p>"... ì ì‹œë§Œ. ì´ëŒ€ë¡œ."</p>
<p>ë‹¹ì‹ ì´ë¼ëŠ” ë¹›ì€ ê·¸ë¥¼ ì£½ì¼ ë…ì´ë¼ëŠ” ê±¸ ì•Œê³  ìˆë‹¤.</p>
<p>ê·¸ëŸ¼ì—ë„ ê·¸ëŠ” ê¸°êº¼ì´ ì†ì„ ë»—ì—ˆë‹¤.</p>
<p>ë¹„ë¡ ì´ ì•ˆì‹ì˜ ëì´ ìì‹ ì˜ ì£½ìŒì¼ì§€ë¼ë„.</p>

<div class="download" onclick="downloadMusic(event)">ğŸµ í…Œë§ˆê³¡ ë‹¤ìš´ë¡œë“œ</div>
</div>
</div>

<div id="t2" class="overlay" onclick="closeOverlay()">
<div>
<p>ê·¸ëŠ” ì‚¬ëŒë“¤ì˜ ë°˜ì‘ì„ ë³¸ë‹¤.</p>
<p>ê³µí¬ì˜ ê¹Šì´ë¥¼ ì¸¡ì •í•˜ê³ , ìˆ¨ê²¨ì§„ ë¬´ì–¸ê°€ë¥¼ íƒìƒ‰í•œë‹¤.</p>
<p>ì»¤ë‹¤ë€ ê·¸ë¦¼ìê°€ ë‹¹ì‹ ì„ ë®ëŠ”ë‹¤.</p>
<p>1ì´ˆ, 2ì´ˆ, 3ì´ˆ.</p>
<p>ìˆ¨ë§‰íˆëŠ” ì •ì .</p>
<p>"ì´ë¦„."</p>
<p>ê·¸ê°€ ë‹¹ì‹ ì˜ ëˆˆì„ ë³¸ë‹¤.</p>
<p>í‘œë©´ ì•„ë˜ ê°ì¶°ì§„ 'ì§„ì§œ'ë¥¼ ì°¾ëŠ” ì‚¬ëŒì²˜ëŸ¼.</p>

<div class="download" onclick="downloadMusic(event)">ğŸµ í…Œë§ˆê³¡ ë‹¤ìš´ë¡œë“œ</div>
</div>
</div>

<audio id="bgm" loop>
  <source src="music/bgm.mp3" type="audio/mpeg">
</audio>

<audio id="characterAudio"></audio>

<script>

// BGM ì‹œì‘
const bgm = document.getElementById("bgm");
const characterAudio = document.getElementById("characterAudio");
let currentTrack = "";

let bgmStarted = false;

function startBGM(){
    if(!bgmStarted){
        bgm.volume = 0.4;
        bgm.play();
        bgmStarted = true;
    }
}

// ìŠ¤í¬ë¡¤ íš¨ê³¼
const observer = new IntersectionObserver(entries=>{
 entries.forEach(e=>{
   if(e.isIntersecting) e.target.classList.add('show');
 });
});
document.querySelectorAll('.card').forEach(el=>observer.observe(el));

function scrollToContent(){
    window.scrollTo({top:window.innerHeight, behavior:'smooth'});
}

// ì˜¤ë²„ë ˆì´ + ìŒì•…
function openOverlay(id, music){
    document.getElementById(id).classList.add('show');

    bgm.volume = 0.05;

    characterAudio.pause();
    characterAudio.currentTime = 0;

    currentTrack = music;
    characterAudio.src = music;
    characterAudio.volume = 0.8;
    characterAudio.play();
}

function closeOverlay(){
    document.querySelectorAll('.overlay').forEach(o=>o.classList.remove('show'));

    characterAudio.pause();
    characterAudio.currentTime = 0;

    bgm.volume = 0.4;
}

// ë‹¤ìš´ë¡œë“œ
function downloadMusic(e){
    e.stopPropagation();
    if(!currentTrack) return;

    const link = document.createElement("a");
    link.href = currentTrack;
    link.download = currentTrack.split('/').pop();
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// ëˆˆ íš¨ê³¼
const canvas=document.getElementById('snow');
const ctx=canvas.getContext('2d');
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
resize();window.onresize=resize;

let snow=[];
for(let i=0;i<120;i++){
 snow.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*2+1,d:Math.random()+0.5});
}
function draw(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="rgba(255,255,255,0.6)";
 ctx.beginPath();
 snow.forEach(s=>{
  ctx.moveTo(s.x,s.y);
  ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
 });
 ctx.fill();
 snow.forEach(s=>{
  s.y+=s.d;
  if(s.y>innerHeight){s.y=0;s.x=Math.random()*innerWidth;}
 });
 requestAnimationFrame(draw);
}
draw();

</script>

</body>
</html>

